<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>SHIVANG</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <!-- Tailwind CSS CDN for Insurance Comparison Dashboard styles -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Password Protection Overlay */
        #passwordOverlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            z-index: 99999;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        #passwordOverlay.hidden {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .pw-box {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 40px 35px;
            text-align: center;
            width: 90%;
            max-width: 380px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
        }

        .pw-box .lock-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        .pw-box h2 {
            color: #fff;
            font-size: 1.4em;
            margin-bottom: 6px;
            font-weight: 600;
        }

        .pw-box p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.85em;
            margin-bottom: 20px;
        }

        .pw-box input[type="password"] {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.06);
            color: #fff;
            font-size: 16px;
            outline: none;
            transition: border-color 0.3s;
            box-sizing: border-box;
            letter-spacing: 3px;
        }

        .pw-box input[type="password"]::placeholder {
            color: rgba(255, 255, 255, 0.35);
            letter-spacing: 1px;
        }

        .pw-box input[type="password"]:focus {
            border-color: #7c4dff;
        }

        .pw-box .pw-submit {
            margin-top: 16px;
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, #7c4dff, #448aff);
            color: #fff;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.3s;
            letter-spacing: 1px;
        }

        .pw-box .pw-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(124, 77, 255, 0.4);
        }

        .pw-box .pw-error {
            color: #ff5252;
            font-size: 0.85em;
            margin-top: 12px;
            min-height: 20px;
            font-weight: 500;
        }

        @keyframes shake {

            0%,
            100% {
                transform: translateX(0);
            }

            20% {
                transform: translateX(-10px);
            }

            40% {
                transform: translateX(10px);
            }

            60% {
                transform: translateX(-8px);
            }

            80% {
                transform: translateX(8px);
            }
        }

        .pw-box.shake {
            animation: shake 0.4s ease;
        }

        /* Hide main content until unlocked */
        body.locked>*:not(#passwordOverlay):not(script) {
            display: none !important;
        }
    </style>
</head>

<body class="locked">
    <!-- Password Protection Overlay -->
    <div id="passwordOverlay">
        <div class="pw-box" id="pwBox">
            <div class="lock-icon">üîí</div>
            <h2>Access Protected</h2>
            <p>Enter password to continue</p>
            <input type="password" id="sitePassword" placeholder="Enter Password" autocomplete="off" />
            <button class="pw-submit" id="pwSubmitBtn" onclick="checkSitePassword()">UNLOCK</button>
            <div class="pw-error" id="pwError"></div>
        </div>
    </div>
    <div class="flex flex-wrap gap-4 justify-center p-10 bg-gradient-to-tr from-blue-100 to-purple-100">
        <button class="animated-btn bg-gradient-to-r from-blue-500 to-blue-700" onclick="openCSATModal()">CSAT
            Calculator</button>
        <button class="animated-btn bg-gradient-to-r from-green-500 to-green-700" onclick="openEndorsementPage()">
            <div style="line-height: 1.2;">
                <div>ENDORSEMENT</div>
                <div style="font-size: 11px; opacity: 0.85;">Last Update: 29-01-2026</div>
            </div>
        </button><button class="animated-btn bg-gradient-to-r from-indigo-500 to-indigo-700"
            onclick="openManualVIPage()">MANUAL-VI &amp; Claim Coverage</button>
        <button class="animated-btn bg-gradient-to-r from-indigo-500 to-indigo-700"
            onclick="openClaimCountNSTPPage()">Claim_Count &amp; NSTP</button>
        <button class="animated-btn bg-gradient-to-r from-orange-500 to-orange-700"
            onclick="openInspectionWaiverPage()">Inspection Waiver</button>
        <button class="animated-btn bg-gradient-to-r from-orange-500 to-orange-700" onclick="openRSAPage()">RSA &amp;
            CONTACT</button>
        <button class="animated-btn bg-gradient-to-r from-purple-500 to-purple-700"
            onclick="window.open('https://ntqueprince.github.io/notebook/', '_blank')">NOTEBOOK</button>
        <button class="animated-btn bg-gradient-to-r from-pink-500 to-pink-700" onclick="openIncentiveModal()">INCENTIVE
            CALCULATOR</button>
        <button class="animated-btn bg-gradient-to-r from-teal-500 to-emerald-700"
            onclick="window.open('https://ntqueprince.github.io/mail/', '_blank')">TICKETING MAIL</button>
        <button class="animated-btn bg-gradient-to-r from-cyan-500 to-cyan-700"
            onclick="window.open('https://ntqueprince.github.io/resume/', '_blank')">Resume-Builder</button>
        <button class="animated-btn bg-gradient-to-r from-yellow-500 to-yellow-700" onclick="openPBWheelsScript()">PB
            Wheels - Script</button>
        <button class="animated-btn bg-gradient-to-r from-indigo-600 to-blue-800"
            onclick="window.open('https://ntqueprince.github.io/json_converter/', '_blank')">JSON-CHANGER</button>
        <button class="secondary cov-btn" id="btnCompanyOwned">Company Owned Not Allowed</button>
    </div>
    <!-- Renamed Manual VI button -->
    <!-- New button for Claim_Count & NSTP -->
    <!-- New button for Inspection Waiver -->
    <!-- New button for RSA & Contact -->
    <!-- "üì∑SHIVANG" header ko "Aaj Ki Baat" button se replace kiya gaya hai -->
    <!-- REPLACED: Aaj Ki Baat button will now be the UPDATES button -->
    <!-- New Notebook button added here -->

    <!-- "UPDATES" button moved here, above the upload-section -->
    <div id="companyUpdatesButton">
        <span>UPDATES</span>
        <span id="latestUpdateSnippet"></span>
        <span id="newUpdateIndicator"></span>
    </div>
    <div class="shivang-glow">SHIVANG</div>

    <div class="upload-section">
        <h2>Upload Images</h2>
        <label for="fileUpload">Choose image files to upload:</label>
        <input accept="image/*" id="fileUpload" type="file" multiple />
        <input id="tagInput" placeholder="Enter tag (e.g., SHIVANG)" type="text" />
        <button class="colorful-upload-btn" onclick="uploadImage()">Upload</button>
        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress" id="progress">0%</div>
            </div>
            <div class="status" id="status">Ready</div>
        </div>
    </div>
    <h3>Uploaded Images</h3>
    <div id="gallery"></div>
    <div class="modal" id="tagModal">
        <div class="modal-content">
            <h4>Error: Tag is required!</h4>
            <input id="modalTagInput" placeholder="Enter tag (e.g., SHIVANG)" type="text" />
            <button class="upload-btn" onclick="submitTag()">Upload</button>
            cancel-btn" onclick="closeModal()">Cancel</button>
            <div class="modal-progress-container" id="modalProgressContainer">
                <div class="modal-progress-bar">
                    <div class="modal-progress" id="modalProgress">0%</div>
                </div>
            </div>
        </div>
    </div>
    <div class="csat-modal" id="csatModal">
        <div class="csat-modal-content">
            <h4>CSAT Calculator</h4>
            <div class="input-section good-section">
                <label>Good Count:</label>
                <input id="goodCount" min="0" type="number" value="0" />
            </div>
            <div class="input-section bad-section">
                <label>Bad Count:</label>
                <input id="badCount" min="0" type="number" value="0" />
            </div>
            <div class="input-section">
                <label>Required CSAT (%):</label>
                <select id="requiredCSAT">
                    <option value="70">70%+</option>
                    <option value="71">71%+</option>
                    <option value="72">72%+</option>
                    <option value="73">73%+</option>
                    <option value="74">74%+</option>
                    <option value="75">75%+</option>
                    <option value="76">76%+</option>
                    <option value="77">77%+</option>
                    <option value="78">78%+</option>
                    <option value="79">79%+</option>
                    <option value="80">80%+</option>
                    <option value="81">81%+</option>
                    <option value="82">82%+</option>
                    <option value="83">83%+</option>
                    <option value="84">84%+</option>
                    <option value="85">85%+</option>
                    <option value="86">86%+</option>
                    <option value="87">87%+</option>
                    <option value="88">88%+</option>
                    <option value="89">89%+</option>
                    <option value="90">90%+</option>
                    <option value="91">91%+</option>
                    <option value="92">92%+</option>
                    <option value="93">93%+</option>
                    <option value="94">94%+</option>
                    <option value="95">95%+</option>
                    <option value="96">96%+</option>
                    <option value="97">97%+</option>
                    <option value="98">98%+</option>
                    <option value="99">99%+</option>
                    <option value="100">100%+</option>
                </select>
            </div>
            <div class="result-section" id="csatResult">
                <p>Total: 0</p>
                <p>CSAT: 0%</p>
                <p id="csatStatus">Enter counts to see status</p>
            </div>
            <!-- New button container for alignment -->
            <div class="button-container">
                <button class="close-btn" onclick="closeCSATModal()">Close</button>
                <button class="calculate-btn" id="calculateButton" onclick="calculateCSAT()">Calculate</button>
            </div>
        </div>
    </div>
    <div class="modal-overlay" id="updatesModal">
        <div class="modal-content">
            <span class="modal-close-button" id="closeModalButton">√ó</span>
            <h2>Company Updates</h2>
            <div id="updatesContainer">
                <!-- Updates will be populated here by JavaScript -->
            </div>
        </div>
    </div>
    <div class="endorsement-page" id="endorsementPage">
        <div class="endorsement-container">
            <h1>ENDORSEMENT</h1>
            <div class="created-by">Created by Shivang</div>
            <button class="back-btn" onclick="closeEndorsementPage()">Back to Main Page</button>
            <label for="insurer">Select Insurance Company:</label>
            <select class="PB_DROPDOWN" id="insurer">
                <option disabled="" selected="">Select Insurer</option>
            </select>
            <label for="requirement">Select Requirement:</label>
            <select class="PB_DROPDOWN" disabled="" id="requirement">
                <option disabled="" selected="">Select Requirement</option>
            </select>
            <div class="output" id="output"></div>
        </div>
    </div>
    <div class="manual-vi-page" id="manualVIPage">
        <button class="back-btn" onclick="closeManualVIPage()">Back to Main Page</button>
        <!-- New "Claim Coverage" button with green color -->
        <button class="claim-coverage-btn back-btn claim-coverage-btn-green" onclick="toggleClaimCoverage()">Claim
            Coverage</button>
        <div class="card mt-4" id="manualVICardContent">
            <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
            </div>
            <div class="card-body">
                <div
                    class="mb-3 p-3 rounded-xl shadow-md bg-gradient-to-r from-blue-50 to-indigo-100 border border-blue-200">
                    <h2 class="text-2xl font-bold text-indigo-800 mb-4 text-center">ADP Home Visit & Garage Visit Cities
                    </h2>

                    <div class="overflow-x-auto">
                        <table
                            class="min-w-full text-sm text-gray-800 border border-gray-300 rounded-lg overflow-hidden">
                            <table
                                class="adp-table min-w-full text-sm text-gray-800 border border-gray-300 rounded-lg overflow-hidden">

                                <thead class="bg-indigo-600 text-white">
                                    <tr>
                                        <th class="px-3 py-2 border border-gray-300">City</th>
                                        <th class="px-3 py-2 border border-gray-300">Home Visit</th>
                                        <th class="px-3 py-2 border border-gray-300">Garage Visit</th>
                                        <th class="px-3 py-2 border border-gray-300">City</th>
                                        <th class="px-3 py-2 border border-gray-300">Home Visit</th>
                                        <th class="px-3 py-2 border border-gray-300">Garage Visit</th>
                                    </tr>
                                </thead>
                                <tbody class="bg-white divide-y divide-gray-200 text-center">
                                    <tr>
                                        <td>Aligarh</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Madurai</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Alwar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Mathura</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Ambala</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Moradabad</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Ambattur - Chennai</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Muzaffarnagar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Amritsar</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                        <td>Mysore</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Belgaum</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Nagpur</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Bhiwani</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Panipat</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Bhubaneshwar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Pondicherry</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Bilaspur</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Raipur</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Chennai</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Rajkot</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Coimbatore</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                        <td>Rewa</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Dhanbad</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Rewari</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Guwahati</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                        <td>Rohtak</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Haldwani</td>
                                        <td>NO</td>
                                        <td>YES</td>
                                        <td>Satara</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Haridwar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Shimla</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Jamshedpur</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Surat</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Jhajjar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Thiruvananthapuram</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Jhansi</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Thrissur</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Jind</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Udaipur</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Jodhpur</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Varanasi</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                    <tr>
                                        <td>Kangra</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                        <td>Yamuna Nagar</td>
                                        <td>YES</td>
                                        <td>YES</td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>
                </div>
                <div
                    class="mb-6 p-6 rounded-xl shadow-md bg-gradient-to-r from-green-50 to-emerald-100 border border-emerald-200">
                    <h2 class="text-2xl font-bold text-emerald-800 mb-4 text-center">Manual Home Visit Cities (14)</h2>

                    <div
                        class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 text-center font-medium text-gray-800">
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Ahmedabad</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Bangalore</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Chennai</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Delhi</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Faridabad</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Ghaziabad</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Gurgaon</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Hyderabad</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Kolkata</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Mumbai</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Noida &amp; Greater
                            Noida</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Patna</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Pune</div>
                        <div class="bg-white rounded-lg py-2 shadow-sm hover:shadow-md transition">Thane &amp; Navi
                            Mumbai</div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Claim Coverage Overlay -->
        <div class="claim-coverage-overlay" id="claimCoverageOverlay">
            <div class="claim-coverage-content">
                <h4>Claim Coverage Details</h4>
                <ul>
                    <li><strong>Plastic Nylon Rubber:</strong> 50%</li>
                    <li><strong>Tyre tube Batteries:</strong> 50%</li>
                    <li><strong>Denting Painting:</strong> 87.5%</li>
                    <li><strong>Fiberglass:</strong> 70%</li>
                    <li><strong>Windshield glass:</strong> 100%</li>
                    <li><strong>Metal, Wooden fiber and other parts:</strong> As per car age</li>
                </ul>
            </div>
        </div>
    </div>
    <!-- New Claim_Count & NSTP Section (Insurance Comparison Dashboard) -->
    <div class="claim-count-nstp-page" id="claimCountNSTPPage">
        <div class="container mx-auto p-4 bg-white rounded-2xl shadow-2xl max-w-7xl w-full border-4 border-transparent bg-clip-border bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"
            style="margin-top: 20px;">
            <h1 class="text-4xl font-bold text-center mb-6 text-indigo-800 tracking-tight">Insurance Comparison
                Dashboard</h1>
            <div class="mb-4">
                <input
                    class="search-input w-full p-3 text-lg border-2 border-blue-500 rounded-lg shadow-md focus:outline-none focus:ring-4 focus:ring-pink-500 bg-blue-50 text-gray-800 placeholder-gray-500"
                    id="searchInput" placeholder="Search by Insurer Name..." type="text" />
            </div>
            <div class="overflow-x-auto rounded-lg">
                <table class="w-full bg-white border border-gray-300" id="insuranceTable">
                    <thead class="bg-gray-900 text-white text-lg font-semibold">
                        <tr>
                            <th class="table-header p-2 text-left" data-column="insurer_name">Insurer Name</th>
                            <th class="table-header p-2 text-left" data-column="zd_claims_year">ZD Claims/Year</th>
                            <th class="table-header p-2 text-left" data-column="non_zd_claims_year">Non-ZD Claims/Year
                            </th>
                            <th class="table-header p-2 text-left" data-column="video_approval">Video Approval</th>
                            <th class="table-header p-2 text-left" data-column="video_tat">Video TAT</th>
                            <th class="table-header p-2 text-left" data-column="short_partial">Short/Partial</th>
                            <th class="table-header p-2 text-left" data-column="cng_kit_vi">CNG Kit In VI</th>
                            <th class="table-header p-2 text-left" data-column="artificial_low_lighting">Artificial/Low
                                Lighting</th>
                            <th class="table-header p-2 text-left" data-column="scar_declaration">Scar Declaration</th>
                            <th class="table-header p-2 text-left" data-column="brand_new_3_3">3+3 Brand New</th>
                            <th class="table-header p-2 text-left" data-column="old_3_3">3+3 Old</th>
                            <th class="table-header p-2 text-left" data-column="vas">VAS</th>
                        </tr>
                    </thead>
                    <tbody class="text-gray-800 text-base" id="tableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
        <button class="back-btn" onclick="closeClaimCountNSTPPage()">Back to Main Page</button>
    </div>
    <!-- New Inspection Waiver Page -->
    <div class="inspection-waiver-page" id="inspectionWaiverPage">
        <div class="inspection-waiver-container">
            <h1>Inspection Waiver</h1>
            <div class="created-by">Created by Shivang</div>
            <div class="inspection-waiver-table-container">
                <table class="inspection-waiver-table">
                    <thead>
                        <tr>
                            <th>Insurer Name</th>
                            <th>Policy Waiver</th>
                        </tr>
                    </thead>
                    <tbody id="inspectionWaiverTableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            <button class="back-btn" onclick="closeInspectionWaiverPage()">Back to Main Page</button>
        </div>
    </div>
    <!-- New RSA & Contact Page -->
    <div class="rsa-contact-page" id="rsaContactPage">
        <div class="rsa-contact-container">
            <h1>RSA &amp; CONTACT</h1>
            <div class="created-by">Created by Shivang</div>
            <div class="mb-4">
                <input
                    class="search-input w-full p-3 text-lg border-2 border-purple-500 rounded-lg shadow-md focus:outline-none focus:ring-4 focus:ring-pink-500 bg-purple-50 text-gray-800 placeholder-gray-500"
                    id="rsaSearchInput" placeholder="Search by Insurer Name..." type="text" />
            </div>
            <div class="rsa-contact-table-container">
                <table class="rsa-contact-table">
                    <thead>
                        <tr>
                            <th>Sr.</th>
                            <th>Insurer Name</th>
                            <th>RSA and Toll Free Number</th>
                            <th>Claim No.</th>
                        </tr>
                    </thead>
                    <tbody id="rsaContactTableBody">
                        <!-- Data will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>
            <button class="back-btn" onclick="closeRSAPage()">Back to Main Page</button>
        </div>
    </div>
    <!-- Company Owned Modal -->
    <div class="modalOverlay" id="covModal">
        <div class="modalBox">
            <div class="modalHeader">
                <h2>Company Owned Vehicle Insurance Not Allowed</h2>
                <button class="modalClose" id="covClose">‚úñ</button>
            </div>

            <div class="modalBtns">
                <button class="secondary" id="btn2W">2W</button>
                <button class="secondary" id="btn4W">4W</button>
            </div>

            <div class="modalContent" id="covList">
                <p class="small">Select 2W or 4W to view companies.</p>
            </div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
    <!-- Floating Chat Button -->
    <button id="openChatBtn"
        class="fixed bottom-4 right-4 w-14 h-14 rounded-full shadow-lg text-white text-2xl bg-gradient-to-r from-purple-500 to-indigo-600 hover:scale-110 transition z-50"
        onclick="toggleChat()">
        üí¨
    </button>

    <!-- Chat Canvas (Vertical full screen height) -->
    <div id="chatCanvas"
        class="fixed bottom-0 right-0 w-full sm:w-[450px] h-[85vh] bg-white shadow-2xl rounded-tl-2xl border-t-4 border-indigo-600 flex flex-col z-50 translate-y-full transition-transform duration-500">
        <div
            class="flex items-center justify-between px-4 py-2 bg-gradient-to-r from-indigo-500 to-purple-500 text-white rounded-tl-2xl">
            <span class="text-base font-semibold">External Chat</span>
            <button onclick="toggleChat()" class="text-sm ml-2">‚úñ</button>
        </div>
        <div id="chatMessages" class="flex-1 p-4 overflow-y-auto flex flex-col space-y-2"
            onclick="event.stopPropagation()">
            <!-- messages go here -->
        </div>
        <div class="p-4 border-t bg-gray-50" onclick="event.stopPropagation()">
            <textarea id="chatMessage" placeholder="Type your message..." rows="2"
                class="w-full px-3 py-2 border rounded-md"></textarea>
            <button onclick="sendMessage()"
                class="mt-2 w-full bg-indigo-600 text-white py-2 rounded-md hover:bg-indigo-700">Send</button>
        </div>
    </div>

    <script>
        const SUPABASE_URL = "https://zilzzcockvphmhexjggk.supabase.co";
        const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InppbHp6Y29ja3ZwaG1oZXhqZ2drIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM5NzEwNzgsImV4cCI6MjA2OTU0NzA3OH0.LKHOyHzxdHJGc9fvDbJAwVOmE7F0XwIqCt36tYcPKlk";

        const headers = {
            apikey: SUPABASE_ANON_KEY,
            Authorization: `Bearer ${SUPABASE_ANON_KEY}`,
            "Content-Type": "application/json"
        };

        const chatCanvas = document.getElementById('chatCanvas');
        const chatMessages = document.getElementById('chatMessages');

        function toggleChat(show = null) {
            const visible = !chatCanvas.classList.contains('translate-y-full');
            const shouldShow = show !== null ? show : !visible;
            chatCanvas.classList.toggle('translate-y-full', !shouldShow);
            if (shouldShow) loadMessages();
        }

        window.addEventListener('click', function (e) {
            if (!chatCanvas.contains(e.target) && !document.getElementById('openChatBtn').contains(e.target)) {
                toggleChat(false);
            }
        });

        async function loadMessages() {
            const res = await fetch(`${SUPABASE_URL}/rest/v1/comments?select=*&order=created_at.asc`, { headers });
            const data = await res.json();
            chatMessages.innerHTML = '';
            data.forEach((msg, i) => {
                const color = i % 2 === 0 ? 'bg-orange-100' : 'bg-blue-100';
                const div = document.createElement('div');
                div.className = `group relative p-3 rounded-md ${color} shadow-sm text-sm`;
                div.innerHTML = `
      <div class="flex justify-between">
        <div>${msg.message}</div>
        <button onclick="deleteMessage('${msg.id}')" class="absolute top-1 right-1 opacity-0 group-hover:opacity-100 text-xs text-red-500 hover:text-red-700">‚ùå</button>
      </div>
    `;
                chatMessages.appendChild(div);
            });
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function sendMessage() {
            const messageBox = document.getElementById('chatMessage');
            const message = messageBox.value.trim();
            if (!message) return alert("Please type something.");

            // Show immediately in UI
            const div = document.createElement('div');
            div.className = `p-3 rounded-md bg-orange-100 shadow-sm text-sm flex justify-between items-start`;
            div.innerHTML = `
    <div>${message}</div>
    <button class="text-red-400 hover:text-red-600 text-xs ml-2 opacity-0">‚ùå</button>
  `;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            // Clear input immediately
            messageBox.value = '';

            // Send to Supabase in background
            await fetch(`${SUPABASE_URL}/rest/v1/comments`, {
                method: "POST",
                headers,
                body: JSON.stringify({ username: null, message })
            });

            // After that, load fresh list
            loadMessages();
        }

        async function deleteMessage(id) {
            const confirmed = confirm("Delete this message?");
            if (!confirmed) return;
            await fetch(`${SUPABASE_URL}/rest/v1/comments?id=eq.${id}`, {
                method: "DELETE",
                headers
            });
            loadMessages();
        }

        // Enter to send, Shift+Enter for newline
        const chatInput = document.getElementById('chatMessage');
        chatInput.addEventListener('keydown', function (e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });
    </script>
    <script>
        // Password Protection Logic
        function checkSitePassword() {
            const input = document.getElementById('sitePassword');
            const overlay = document.getElementById('passwordOverlay');
            const errorEl = document.getElementById('pwError');
            const pwBox = document.getElementById('pwBox');

            if (input.value === 'fintech') {
                document.body.classList.remove('locked');
                overlay.classList.add('hidden');
                errorEl.textContent = '';
            } else {
                errorEl.textContent = '‚ùå Wrong password!';
                pwBox.classList.add('shake');
                input.value = '';
                input.focus();
                setTimeout(() => pwBox.classList.remove('shake'), 400);
            }
        }

        // Allow Enter key to submit password
        document.getElementById('sitePassword').addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                e.preventDefault();
                checkSitePassword();
            }
        });

        // Auto-focus the password input
        document.getElementById('sitePassword').focus();
    </script>
    <!-- Incentive Calculator Modal -->
    <div class="incentive-modal" id="incentiveModal">
        <div class="incentive-modal-content">
            <h2 class="title">üéØ Incentive Calculator</h2>

            <!-- CSAT -->
            <div class="input-section">
                <label for="incentiveCSAT">CSAT %:</label>
                <select id="incentiveCSAT">
                    <!-- 70 ‡§∏‡•á 99% ‡§§‡§ï -->
                    <script>
                        for (let i = 70; i <= 99; i++) {
                            document.write(`<option value="${i}">${i}%</option>`);
                        }
                    </script>
                </select>
            </div>

            <!-- Quality -->
            <div class="input-section">
                <label for="incentiveQuality">Quality %:</label>
                <select id="incentiveQuality">
                    <script>
                        for (let i = 40; i <= 100; i += 5) {
                            document.write(`<option value="${i}">${i}%</option>`);
                        }
                    </script>
                </select>
            </div>

            <!-- AHT -->
            <div class="input-section">
                <label for="incentiveAHTMin">AHT (Minutes:Seconds):</label>
                <select id="incentiveAHTMin"></select> :
                <select id="incentiveAHTSec"></select>
            </div>

            <!-- Deductions -->
            <div class="input-section">
                <label for="escalation">Escalation:</label>
                <select id="escalation">
                    <option value="0">0</option>
                    <option value="1">1</option>
                    <option value="2">2+</option>
                </select>
            </div>

            <div class="input-section">
                <label for="warning">Warning Letter:</label>
                <select id="warning">
                    <option value="0">0</option>
                    <option value="1">1+</option>
                </select>
            </div>

            <!-- Result -->
            <div class="result-section" id="incentiveResult">
                <p id="incentiveResult"><span class="colorful-text">Created by Shivang</span></p>
            </div>

            <!-- Buttons -->
            <div class="button-container">
                <button class="close-btn" onclick="closeIncentiveModal()">Close</button>
                <button class="calculate-btn" onclick="calculateIncentive()">Calculate</button>
            </div>
        </div>
    </div>
    <!-- üåü PB Wheels Popup -->
    <div id="pbPopup" class="fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center z-50 hidden">
        <div
            class="bg-white max-w-4xl w-11/12 md:w-3/4 rounded-2xl shadow-2xl relative p-8 overflow-y-auto max-h-[90vh] border border-indigo-200">

            <!-- ‚ùå Close Button -->
            <button id="closePopupBtn"
                class="absolute top-3 right-3 text-gray-500 hover:text-red-600 text-2xl font-bold">&times;</button>

            <!-- üèÅ Title -->
            <h2
                class="text-3xl font-extrabold text-center bg-gradient-to-r from-indigo-600 to-blue-400 bg-clip-text text-transparent mb-6">
                PB Wheels - Script
            </h2>

            <!-- üìò ENGLISH SCRIPT -->
            <div class="mb-8 text-gray-800 leading-relaxed space-y-4">
                <h3 class="text-2xl font-bold text-indigo-700 border-b-2 border-indigo-300 inline-block mb-3">ENGLISH
                    SCRIPT</h3>

                <p><strong>Main Script:</strong></p>
                <p>Sharing a quick offer that could help you save up to <span class="text-green-600 font-semibold">40%
                        on your next car service</span> ‚Äî may I take 30 seconds to explain?</p>
                <p>We‚Äôre currently running a <span class="font-semibold text-indigo-700">special service program</span>
                    with our partner garage network where you get a <strong>free car health check-up</strong>, and if
                    you go ahead with servicing, we complete it within just <strong>60 minutes</strong> (excluding
                    washing).</p>
                <p>The best part ‚Äî our customers are saving up to <span class="text-green-600 font-semibold">40%</span>
                    compared to branded workshops with genuine parts, trained technicians, and complete warranty on
                    service quality.</p>
                <p><em>(Add Value Hook)</em> You also get updates at every step, and we even offer <strong>free pickup &
                        drop</strong> for select services ‚Äî so you don‚Äôt have to spend your day waiting at the garage.
                </p>
                <p class="text-indigo-600 font-semibold">(Closing CTA) Would you like me to schedule a call back with
                    our garage servicing team?</p>
                <p>Also, please help me with your last car service month and year, and if you remember your odometer
                    reading, please share that too.</p>

                <div class="bg-blue-50 p-3 rounded-lg border-l-4 border-blue-400">
                    <p><strong>If customer says ‚ÄúNo‚Äù:</strong></p>
                    <p><em>Savings Hook (Money Angle)</em> ‚Äî Understood, Sir/Ma‚Äôam. Just letting you know ‚Äî most of our
                        customers switched because they were spending 30‚Äì40% more at their old workshop for the same
                        quality.</p>
                    <p>The free car health check-up alone helps spot issues early and costs nothing ‚Äî would you like me
                        to just book that for you?</p>
                </div>

                <div class="bg-indigo-50 p-3 rounded-lg border-l-4 border-indigo-400">
                    <p><strong>If customer says ‚ÄúNo‚Äù again:</strong></p>
                    <p>Totally fine, Sir/Ma‚Äôam. If you ever plan a service in the future, do keep our garage network in
                        mind ‚Äî we offer up to 40% savings and 1-hour quick service with a free car health check-up.</p>
                    <p>You can reach us anytime on our toll-free number. Thank you for your time!</p>
                </div>
            </div>

            <!-- üìô HINDI SCRIPT -->
            <div class="text-gray-800 leading-relaxed space-y-4">
                <h3 class="text-2xl font-bold text-orange-700 border-b-2 border-orange-300 inline-block mb-3">HINDI
                    SCRIPT</h3>

                <p><strong>Main Script:</strong></p>
                <p>‚Äú<span class="text-orange-600 font-semibold">‡§®‡§Æ‡§∏‡•ç‡§ï‡§æ‡§∞!</span> ‡§π‡§Æ‡§æ‡§∞‡•á ‡§™‡§æ‡§∏ ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï <strong>‡§µ‡§ø‡§∂‡•á‡§∑
                        ‡§ë‡§´‡§∞</strong> ‡§π‡•à‡•§ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§™‡§æ‡§∞‡•ç‡§ü‡§®‡§∞ ‡§ó‡•à‡§∞‡§æ‡§ú ‡§Æ‡•á‡§Ç ‡§Ü‡§™‡§ï‡•ã <strong>‡§´‡•ç‡§∞‡•Ä ‡§ï‡§æ‡§∞ ‡§π‡•á‡§≤‡•ç‡§• ‡§ö‡•á‡§ï‡§Ö‡§™</strong> ‡§Æ‡§ø‡§≤‡•á‡§ó‡§æ, ‡§î‡§∞
                    ‡§Ö‡§ó‡§∞ ‡§Ü‡§™ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§ï‡§∞‡§æ‡§§‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§π‡§Æ ‡§â‡§∏‡•á ‡§∏‡§ø‡§∞‡•ç‡§´ <strong>1 ‡§ò‡§Ç‡§ü‡•á</strong> ‡§Æ‡•á‡§Ç ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§‚Äù</p>
                <p>‚Äú‡§π‡§Æ‡§æ‡§∞‡•á ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï <span class="text-green-600 font-semibold">30‚Äì40%</span> ‡§§‡§ï ‡§¨‡§ö‡§§ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§Ü‡§™‡§ï‡•ã
                    ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á <strong>genuine parts</strong>, <strong>trained technicians</strong>, ‡§î‡§∞ <strong>service
                        warranty</strong>‡•§ ‡§∏‡§æ‡§• ‡§π‡•Ä, <strong>free pickup & drop</strong> ‡§ï‡•Ä ‡§∏‡•Å‡§µ‡§ø‡§ß‡§æ ‡§≠‡•Ä ‡§π‡•à‡•§‚Äù</p>
                <p>‚Äú‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è <strong>callback</strong> ‡§∂‡•á‡§°‡•ç‡§Ø‡•Ç‡§≤ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?‚Äù</p>

                <div class="bg-orange-50 p-3 rounded-lg border-l-4 border-orange-400">
                    <p><strong>‡§Ö‡§ó‡§∞ ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‚Äú‡§®‡§æ‚Äù ‡§ï‡§π‡•á:</strong></p>
                    <p>‚Äú‡§†‡•Ä‡§ï ‡§π‡•à ‡§∏‡§∞/‡§Æ‡•à‡§Æ‡•§ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§Ö‡§ß‡§ø‡§ï‡§§‡§∞ ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§™‡§π‡§≤‡•á 30‚Äì40% ‡§ú‡§º‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§ñ‡§∞‡•ç‡§ö ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§•‡•á, ‡§á‡§∏‡§≤‡§ø‡§è ‡§â‡§®‡•ç‡§π‡•ã‡§Ç‡§®‡•á ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§∏‡•á‡§µ‡§æ
                        ‡§≤‡•Ä‡•§ ‡§´‡•ç‡§∞‡•Ä ‡§ï‡§æ‡§∞ ‡§π‡•á‡§≤‡•ç‡§• ‡§ö‡•á‡§ï‡§Ö‡§™ ‡§∏‡•á ‡§π‡§Æ ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡§æ‡§∞ ‡§ï‡•Ä ‡§¶‡§ø‡§ï‡•ç‡§ï‡§§‡•á‡§Ç ‡§™‡§π‡§≤‡•á ‡§π‡•Ä ‡§™‡§§‡§æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§‚Äù</p>
                    <p>‚Äú‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π ‡§¨‡•Å‡§ï ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?‚Äù</p>
                </div>

                <div class="bg-yellow-50 p-3 rounded-lg border-l-4 border-yellow-400">
                    <p><strong>‡§Ö‡§ó‡§∞ ‡§ó‡•ç‡§∞‡§æ‡§π‡§ï ‡§´‡§ø‡§∞ ‚Äú‡§®‡§æ‚Äù ‡§ï‡§π‡•á:</strong></p>
                    <p>‚Äú‡§ï‡•ã‡§à ‡§¨‡§æ‡§§ ‡§®‡§π‡•Ä‡§Ç ‡§∏‡§∞/‡§Æ‡•à‡§Æ‡•§ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§Æ‡•á‡§Ç ‡§ú‡§¨ ‡§≠‡•Ä ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§ï‡•Ä ‡§ú‡§º‡§∞‡•Ç‡§∞‡§§ ‡§π‡•ã, ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ó‡•à‡§∞‡§æ‡§ú ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•ã ‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç‡•§
                        ‡§π‡§Æ 40% ‡§§‡§ï ‡§¨‡§ö‡§§ ‡§î‡§∞ 1 ‡§ò‡§Ç‡§ü‡•á ‡§ï‡•Ä ‡§§‡•ç‡§µ‡§∞‡§ø‡§§ ‡§∏‡§∞‡•ç‡§µ‡§ø‡§∏ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§´‡•ç‡§∞‡•Ä ‡§π‡•á‡§≤‡•ç‡§• ‡§ö‡•á‡§ï‡§Ö‡§™ ‡§ë‡§´‡§∞ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§‚Äù</p>
                    <p>‚Äú‡§Ü‡§™ ‡§π‡§Æ‡•á‡§Ç ‡§ï‡§≠‡•Ä ‡§≠‡•Ä ‡§π‡§Æ‡§æ‡§∞‡•á ‡§ü‡•ã‡§≤-‡§´‡•ç‡§∞‡•Ä ‡§®‡§Ç‡§¨‡§∞ ‡§™‡§∞ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶!‚Äù</p>
                </div>
            </div>

        </div>
    </div>
</body>

</html>